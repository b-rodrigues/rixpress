<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Using {cmdstanr} with {rixpress} • rixpress</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using {cmdstanr} with {rixpress}">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rixpress</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Introduction</h6></li>
    <li><a class="dropdown-item" href="../articles/intro-concepts.html">Introductory concepts</a></li>
    <li><a class="dropdown-item" href="../articles/scope.html">Scope and Roadmap</a></li>
    <li><a class="dropdown-item" href="../articles/core-functions.html">Core rixpress Functions and Usage</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html">Setting up a pipeline from scratch: a tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/importing-data.html">Importing Data Files</a></li>
    <li><a class="dropdown-item" href="../articles/debugging.html">Effective debugging</a></li>
    <li><a class="dropdown-item" href="../articles/gc.html">Managing Cached Build Artifacts</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Polyglot pipelines</h6></li>
    <li><a class="dropdown-item" href="../articles/polyglot.html">Polyglot pipelines and literate programming with Quarto or R Markdown</a></li>
    <li><a class="dropdown-item" href="../articles/polyglot-julia.html">Polyglot pipelines with Julia and R</a></li>
    <li><a class="dropdown-item" href="../articles/encoding-decoding.html">Encoding, Decoding, and Cross-Language Data Transfer</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced topics</h6></li>
    <li><a class="dropdown-item" href="../articles/ci.html">Running pipelines in CI</a></li>
    <li><a class="dropdown-item" href="../articles/cmdstanr.html">Using {cmdstanr} with {rixpress}</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/rixpress/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Using {cmdstanr} with {rixpress}</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/rixpress/blob/main/vignettes/cmdstanr.Rmd" class="external-link"><code>vignettes/cmdstanr.Rmd</code></a></small>
      <div class="d-none name"><code>cmdstanr.Rmd</code></div>
    </div>

    
    
<p>This vignette details how to effectively use the
<code>{cmdstanr}</code> package within a <a href="https://docs.ropensci.org/rixpress" class="external-link">rixpress</a>
pipeline for Bayesian statistical modelling with Stan. For a general
introduction to <a href="https://docs.ropensci.org/rixpress" class="external-link">rixpress</a> and its core concepts, please
refer to <code><a href="../articles/intro-concepts.html">vignette("intro-concepts")</a></code> and
<code><a href="../articles/core-functions.html">vignette("core-functions")</a></code>.</p>
<p><code>{cmdstanr}</code> provides a user-friendly R interface to
<code>cmdstan</code>, Stan’s command-line interface. While powerful, its
reliance on external processes and file system interactions requires
careful handling within the hermetic build environment of
<a href="https://docs.ropensci.org/rixpress" class="external-link">rixpress</a>.</p>
<div class="section level2">
<h2 id="setting-up-the-environment">Setting up the Environment<a class="anchor" aria-label="anchor" href="#setting-up-the-environment"></a>
</h2>
<p>As with any <a href="https://docs.ropensci.org/rixpress" class="external-link">rixpress</a> pipeline, the first step is to
define the execution environment using <a href="https://docs.ropensci.org/rix/" class="external-link">rix</a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/rix/" class="external-link">rix</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://docs.ropensci.org/rix/reference/rix.html" class="external-link">rix</a></span><span class="op">(</span></span>
<span>  date <span class="op">=</span> <span class="st">"2025-04-29"</span>,</span>
<span>  r_pkgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"readr"</span>, <span class="st">"dplyr"</span>, <span class="st">"ggplot2"</span><span class="op">)</span>, <span class="co"># Add other R packages as needed</span></span>
<span>  system_pkgs <span class="op">=</span> <span class="st">"cmdstan"</span>, <span class="co"># Crucial: include cmdstan as a system dependency</span></span>
<span>  git_pkgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      package_name <span class="op">=</span> <span class="st">"cmdstanr"</span>,</span>
<span>      repo_url <span class="op">=</span> <span class="st">"https://github.com/stan-dev/cmdstanr"</span>,</span>
<span>      commit <span class="op">=</span> <span class="st">"79d37792d8e4ffcf3cf721b8d7ee4316a1234b0c"</span> <span class="co"># Pin to a specific commit</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      package_name <span class="op">=</span> <span class="st">"rixpress"</span>,</span>
<span>      repo_url <span class="op">=</span> <span class="st">"https://github.com/ropensci/rixpress"</span>,</span>
<span>      commit <span class="op">=</span> <span class="st">"HEAD"</span> <span class="co"># Or pin to a specific commit</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  ide <span class="op">=</span> <span class="st">"none"</span>, <span class="co"># Or your preferred IDE</span></span>
<span>  project_path <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Key points in this environment definition:</p>
<ul>
<li>
<code>cmdstan</code> is included in <code>system_pkgs</code>. This
makes the <code>cmdstan</code> executables available to the
pipeline.</li>
<li>
<code>{cmdstanr}</code> is installed from its GitHub repository, as
it’s not available on CRAN. Pinning to a specific commit is recommended
for maximum reproducibility.</li>
</ul>
<p>With the environment set up, we can define the pipeline:</p>
</div>
<div class="section level2">
<h2 id="setting-up-the-pipeline">Setting up the pipeline<a class="anchor" aria-label="anchor" href="#setting-up-the-pipeline"></a>
</h2>
<p>The Stan model code itself should reside in a <code>.stan</code>
file. We use <code><a href="../reference/rxp_r_file.html">rxp_r_file()</a></code> to bring its contents into the
pipeline as a character string.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/rxp_r_file.html">rxp_r_file</a></span><span class="op">(</span></span>
<span>  <span class="va">bayesian_linear_regression_model</span>,</span>
<span>  <span class="st">"model.stan"</span>,</span>
<span>  <span class="va">readLines</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Next, we define parameters and simulate some data for our model.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>  <span class="fu">rxp_r</span>(</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>    parameters,</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>      <span class="at">N =</span> <span class="dv">100</span>,</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>      <span class="at">alpha =</span> <span class="dv">2</span>,</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>      <span class="at">beta =</span> <span class="sc">-</span><span class="fl">0.5</span>,</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>      <span class="at">sigma =</span> <span class="dv">1</span>.e<span class="dv">-1</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>    )</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>  ),</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>  <span class="fu">rxp_r</span>(</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>    x,</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>    <span class="fu">rnorm</span>(parameters<span class="sc">$</span>N, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a>  ),</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a>  <span class="fu">rxp_r</span>(</span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a>    y,</span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>    <span class="fu">rnorm</span>(</span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a>      <span class="at">n =</span> parameters<span class="sc">$</span>N,</span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a>      <span class="at">mean =</span> parameters<span class="sc">$</span>alpha <span class="sc">+</span> parameters<span class="sc">$</span>beta <span class="sc">*</span> x,</span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a>      <span class="at">sd =</span> parameters<span class="sc">$</span>sigma</span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a>    )</span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a>  ),</span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a>  <span class="fu">rxp_r</span>(</span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a>    <span class="co"># Prepare the data list for cmdstanr</span></span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a>    inputs,</span>
<span id="cb3-25"><a href="#cb3-25" tabindex="-1"></a>    <span class="fu">list</span>(<span class="at">N =</span> parameters<span class="sc">$</span>N, <span class="at">x =</span> x, <span class="at">y =</span> y)</span>
<span id="cb3-26"><a href="#cb3-26" tabindex="-1"></a>  ),</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="compiling-and-sampling-the-model">Compiling and Sampling the Model<a class="anchor" aria-label="anchor" href="#compiling-and-sampling-the-model"></a>
</h2>
<p>Interfacing with <code>cmdstan</code> from within
<a href="https://docs.ropensci.org/rixpress" class="external-link">rixpress</a> requires a specific strategy due to the hermetic
nature of Nix sandboxes. We’ll use a wrapper function to handle model
compilation and sampling within a single <code><a href="../reference/rxp_r.html">rxp_r()</a></code> step.</p>
<p>First, let’s define the wrapper function (e.g., in a
<code>functions.R</code> file that we’ll include):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># In functions.R</span></span>
<span><span class="va">cmdstan_model_wrapper</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span></span>
<span>  <span class="va">stan_string</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># The Stan model code as a character string</span></span>
<span>  <span class="va">inputs</span>,             <span class="co"># Data list for the model</span></span>
<span>  <span class="va">seed</span>,               <span class="co"># Seed for reproducibility</span></span>
<span>  <span class="va">...</span>                 <span class="co"># Additional arguments for cmdstan_model or sample</span></span>
<span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Create a temporary .stan file within the sandbox</span></span>
<span>  <span class="va">stan_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"model_"</span>, fileext <span class="op">=</span> <span class="st">".stan"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="va">stan_string</span>, con <span class="op">=</span> <span class="va">stan_file</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># Compile the Stan model</span></span>
<span>  <span class="co"># cmdstanr will find cmdstan via the CMDSTAN environment variable</span></span>
<span>  <span class="va">model</span> <span class="op">&lt;-</span> <span class="fu">cmdstanr</span><span class="fu">::</span><span class="fu">cmdstan_model</span><span class="op">(</span></span>
<span>    stan_file <span class="op">=</span> <span class="va">stan_file</span>,</span>
<span>    <span class="va">...</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="co"># Sample from the posterior</span></span>
<span>  <span class="va">fitted_model</span> <span class="op">&lt;-</span> <span class="va">model</span><span class="op">$</span><span class="fu">sample</span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">inputs</span>,</span>
<span>    seed <span class="op">=</span> <span class="va">seed</span>,</span>
<span>    <span class="va">...</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">fitted_model</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Now, we use this wrapper in our pipeline:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ... (continuation of pipeline_steps list)</span></span>
<span>  <span class="fu"><a href="../reference/rxp_r.html">rxp_r</a></span><span class="op">(</span></span>
<span>    <span class="va">model</span>, <span class="co"># Target name for the fitted model object</span></span>
<span>    <span class="fu">cmdstan_model_wrapper</span><span class="op">(</span></span>
<span>      stan_string <span class="op">=</span> <span class="va">bayesian_linear_regression_model</span>,</span>
<span>      inputs <span class="op">=</span> <span class="va">inputs</span>,</span>
<span>      seed <span class="op">=</span> <span class="fl">22</span></span>
<span>    <span class="op">)</span>,</span>
<span>    user_functions <span class="op">=</span> <span class="st">"functions.R"</span>,</span>
<span>    encoder <span class="op">=</span> <span class="st">"save_model"</span>,</span>
<span>    env_var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CMDSTAN"</span> <span class="op">=</span> <span class="st">"${defaultPkgs.cmdstan}/opt/cmdstan"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><strong>Explanation of the Wrapper Approach:</strong></p>
<ol style="list-style-type: decimal">
<li>
<strong><code>stan_string = bayesian_linear_regression_model</code></strong>:
We pass the model code (read by <code>rxp_r_file</code>) as a string to
our wrapper.</li>
<li>
<strong><code>writeLines(stan_string, con = stan_file)</code></strong>:
Inside the wrapper, the Stan code is written to a temporary
<code>.stan</code> file. This file exists <em>within the sandbox</em> of
the current <code>rxp_r</code> step. This is crucial because
<code>cmdstan_model</code> needs a file path. Attempting to pass the
original <code>model.stan</code> path directly via
<code>additional_files</code> to <code>cmdstan_model</code> can lead to
permission or path issues when <code>cmdstan</code> tries to compile it
from a different working directory or context.</li>
<li>
<strong><code>cmdstanr::cmdstan_model()</code></strong>: Compiles
the model from the temporary <code>stan_file</code>.</li>
<li>
<strong><code>model$sample()</code></strong>: Samples from the
compiled model.</li>
<li>
<strong>Single Step</strong>: Both compilation and sampling
<em>must</em> happen within the same <code>rxp_r</code> step (and thus
the same sandbox). This is because the <code>model</code> object
returned by <code>cmdstan_model()</code> contains paths to the compiled
executable. If these were separate steps, the paths from the compilation
sandbox wouldn’t be valid in the sampling sandbox.</li>
<li>
<strong><code>env_var = c("CMDSTAN" = "${defaultPkgs.cmdstan}/opt/cmdstan")</code></strong>:
This sets the <code>CMDSTAN</code> environment variable within the
sandbox for this specific step. <code>{cmdstanr}</code> uses this
variable to locate the <code>cmdstan</code> installation. The
<code>${defaultPkgs.cmdstan}</code> is a Nix interpolation that resolves
to the path of the <code>cmdstan</code> package in the Nix store. If the
environment providing <code>cmdstan</code> were named differently, for
example <code>cmdstan-env.nix</code>, then you would need to use
<code>${cmdstan_envPkgs.cmdstan}</code>.</li>
</ol>
<div class="section level3">
<h3 id="custom-serialisation">Custom Serialisation<a class="anchor" aria-label="anchor" href="#custom-serialisation"></a>
</h3>
<p><code>{cmdstanr}</code> provides a specific method for saving fitted
model objects to ensure all necessary components are preserved. We
define a simple wrapper for this to use with
<a href="https://docs.ropensci.org/rixpress" class="external-link">rixpress</a>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">save_model</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">fitted_model</span>, <span class="va">path</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">fitted_model</span><span class="op">$</span><span class="fu">save_object</span><span class="op">(</span>file <span class="op">=</span> <span class="va">path</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>By specifying <code>encoder = "save_model"</code> in the
<code><a href="../reference/rxp_r.html">rxp_r()</a></code> call, <a href="https://docs.ropensci.org/rixpress" class="external-link">rixpress</a> will use this
function instead of the default <code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS()</a></code>. The fitted model
can then be read using <code>rxp_read("model")</code>, which will
internally use <code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS()</a></code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>Using <code>{cmdstanr}</code> with <a href="https://docs.ropensci.org/rixpress" class="external-link">rixpress</a> involves
these key considerations:</p>
<ul>
<li><p>Include <code>cmdstan</code> in <code>system_pkgs</code> and
<code>{cmdstanr}</code> (from Git) in your <a href="https://docs.ropensci.org/rix/" class="external-link">rix</a>
environment definition.</p></li>
<li><p>Read your <code>.stan</code> file into the pipeline using
<code><a href="../reference/rxp_r_file.html">rxp_r_file()</a></code>.</p></li>
<li>
<p>Implement a wrapper function that:</p>
<ul>
<li>Takes the model code string and writes it to a temporary
<code>.stan</code> file <em>inside the wrapper</em>.</li>
<li>Calls <code>cmdstanr::cmdstan_model()</code> on this temporary
file.</li>
<li>Calls <code>model$sample()</code> to fit the model.</li>
<li>Returns the fitted model object.</li>
</ul>
</li>
<li><p>Perform model compilation and sampling within the <em>same</em>
<code><a href="../reference/rxp_r.html">rxp_r()</a></code> call using the wrapper.</p></li>
<li><p>Set the <code>CMDSTAN</code> environment variable for the
<code><a href="../reference/rxp_r.html">rxp_r()</a></code> step that runs the wrapper, pointing to the Nix
store path of <code>cmdstan</code>.</p></li>
<li><p>Use <code>{cmdstanr}</code>’s <code>$save_object()</code> method
via a custom <code>encoder</code> for robust saving of the fitted
model.</p></li>
</ul>
<p>This approach ensures that <code>cmdstan</code> can operate correctly
within the isolated and reproducible environment provided by
<a href="https://docs.ropensci.org/rixpress" class="external-link">rixpress</a> and Nix.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bruno Rodrigues.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
