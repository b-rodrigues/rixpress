<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Polyglot pipelines with Julia and R • rixpress</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Polyglot pipelines with Julia and R">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rixpress</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Introduction</h6></li>
    <li><a class="dropdown-item" href="../articles/intro-concepts.html">Introductory concepts</a></li>
    <li><a class="dropdown-item" href="../articles/scope.html">Scope and Roadmap</a></li>
    <li><a class="dropdown-item" href="../articles/core-functions.html">Core rixpress Functions and Usage</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html">Setting up a pipeline from scratch: a tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/importing-data.html">Importing Data Files</a></li>
    <li><a class="dropdown-item" href="../articles/debugging.html">Effective debugging</a></li>
    <li><a class="dropdown-item" href="../articles/gc.html">Managing Cached Build Artifacts</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Polyglot pipelines</h6></li>
    <li><a class="dropdown-item" href="../articles/polyglot.html">Polyglot pipelines and literate programming with Quarto or R Markdown</a></li>
    <li><a class="dropdown-item" href="../articles/polyglot-julia.html">Polyglot pipelines with Julia and R</a></li>
    <li><a class="dropdown-item" href="../articles/encoding-decoding.html">Encoding, Decoding, and Cross-Language Data Transfer</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced topics</h6></li>
    <li><a class="dropdown-item" href="../articles/ci.html">Running pipelines in CI</a></li>
    <li><a class="dropdown-item" href="../articles/cmdstanr.html">Using {cmdstanr} with {rixpress}</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/rixpress/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Polyglot pipelines with Julia and R</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/rixpress/blob/main/vignettes/polyglot-julia.Rmd" class="external-link"><code>vignettes/polyglot-julia.Rmd</code></a></small>
      <div class="d-none name"><code>polyglot-julia.Rmd</code></div>
    </div>

    
    
<p>This vignette demonstrates how to build a polyglot pipeline using R
and Julia. It assumes you’ve read
<code><a href="../articles/core-functions.html">vignette("core-functions")</a></code> and are familiar with the basic
concepts of <a href="https://docs.ropensci.org/rixpress" class="external-link">rixpress</a>.</p>
<p>For various examples of polyglot pipelines, check out the <a href="https://github.com/b-rodrigues/rixpress_demos/" class="external-link">rixpress_demos
repository</a>.</p>
<div class="section level2">
<h2 id="generating-waveshaders-data-using-julia-and-plotting-it-using-r">Generating <em>waveshaders</em> data using Julia and plotting it
using R<a class="anchor" aria-label="anchor" href="#generating-waveshaders-data-using-julia-and-plotting-it-using-r"></a>
</h2>
<p>This example was provided by Moritz Schauer (<span class="citation">@mschauer</span>). example adapted from: <a href="https://github.com/frankiethull/waveshaders/tree/main/experiments/simple_example" class="external-link uri">https://github.com/frankiethull/waveshaders/tree/main/experiments/simple_example</a></p>
<p><a href="https://docs.ropensci.org/rixpress" class="external-link">rixpress</a> makes it easy to write polyglot
(multilingual) data science pipelines with derivations that run R or
Julia code. This vignette explains how you can easily set up such a
pipeline.</p>
<div class="section level3">
<h3 id="setting-up-the-environment">Setting up the environment<a class="anchor" aria-label="anchor" href="#setting-up-the-environment"></a>
</h3>
<p>Start your project by calling <code><a href="../reference/rxp_init.html">rixpress::rxp_init()</a></code> and
edit <code>gen-env.R</code>. You can open <code>gen-env.R</code> in your
favourite text editor and define the execution environment there. For a
Julia and R polyglot pipeline, you’ll need to add Julia
configuration:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/rix/" class="external-link">rix</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://docs.ropensci.org/rix/reference/rix.html" class="external-link">rix</a></span><span class="op">(</span></span>
<span>  date <span class="op">=</span> <span class="st">"2025-09-04"</span>,</span>
<span>  r_pkgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"arrow"</span>,</span>
<span>    <span class="st">"dplyr"</span>,</span>
<span>    <span class="st">"tidyr"</span>,</span>
<span>    <span class="st">"ggplot2"</span>,</span>
<span>    <span class="st">"hexbin"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  git_pkgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      package_name <span class="op">=</span> <span class="st">"rix"</span>,</span>
<span>      repo_url <span class="op">=</span> <span class="st">"https://github.com/ropensci/rix/"</span>,</span>
<span>      commit <span class="op">=</span> <span class="st">"HEAD"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      package_name <span class="op">=</span> <span class="st">"rixpress"</span>,</span>
<span>      repo_url <span class="op">=</span> <span class="st">"https://github.com/ropensci/rixpress"</span>,</span>
<span>      commit <span class="op">=</span> <span class="st">"HEAD"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  jl_conf <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    jl_version <span class="op">=</span> <span class="st">"1.10"</span>,</span>
<span>    jl_pkgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"Arrow"</span>,</span>
<span>      <span class="st">"DataFrames"</span>,</span>
<span>      <span class="st">"SparseArrays"</span>,</span>
<span>      <span class="st">"LinearAlgebra"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  ide <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  project_path <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Notice the <code>jl_conf</code> argument to <code><a href="https://docs.ropensci.org/rix/reference/rix.html" class="external-link">rix()</a></code>: this
will install Julia and the listed Julia packages in that
environment.</p>
<p>Now that you’ve defined the execution environment of the pipeline,
you can run the <code>gen-env.R</code> script, still from the temporary
<code>Nix</code> shell by running <code>source("gen-env.R")</code>. This
will generate the required <code>default.nix</code>. Then, quit R and
the temporary shell (CTRL-D or <code><a href="https://rdrr.io/r/base/quit.html" class="external-link">quit()</a></code> in R,
<code>exit</code> in the terminal) and then build the environment
defined by the freshly generated <code>default.nix</code> by typing
<code>nix-build</code>. This will now build the execution environment of
the pipeline. You can use this environment to work on your project
interactively as usual. To learn more, check out <a href="https://docs.ropensci.org/rix/" class="external-link"><code>{rix}</code></a>.</p>
</div>
<div class="section level3">
<h3 id="creating-the-pipeline">Creating the pipeline<a class="anchor" aria-label="anchor" href="#creating-the-pipeline"></a>
</h3>
<p>You can now edit the pipeline script in <code>gen-pipeline.R</code>.
Here’s an example of a pipeline that uses both R and Julia:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/rixpress" class="external-link">rixpress</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.igraph.org/" class="external-link">igraph</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/rxp_jl.html">rxp_jl</a></span><span class="op">(</span><span class="va">d_size</span>, <span class="st">'150'</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="fu"><a href="../reference/rxp_jl.html">rxp_jl</a></span><span class="op">(</span></span>
<span>    <span class="va">data</span>,</span>
<span>    <span class="st">"0.1randn(d_size,d_size) + reshape( \</span></span>
<span><span class="st">    cholesky(gridlaplacian(d_size,d_size) + 0.003I) \\ randn(d_size*d_size), \</span></span>
<span><span class="st">    d_size, \</span></span>
<span><span class="st">    d_size \</span></span>
<span><span class="st">    )"</span>,</span>
<span>    user_functions <span class="op">=</span> <span class="st">"functions.jl"</span></span>
<span>  <span class="op">)</span>,</span>
<span></span>
<span>  <span class="fu"><a href="../reference/rxp_jl.html">rxp_jl</a></span><span class="op">(</span></span>
<span>    <span class="va">laplace_df</span>,</span>
<span>    <span class="st">'DataFrame(data, :auto)'</span>,</span>
<span>    encoder <span class="op">=</span> <span class="st">'arrow_write'</span>,</span>
<span>    user_functions <span class="op">=</span> <span class="st">"functions.jl"</span></span>
<span>  <span class="op">)</span>,</span>
<span></span>
<span>  <span class="fu"><a href="../reference/rxp_r.html">rxp_r</a></span><span class="op">(</span></span>
<span>    <span class="va">laplace_long_df</span>,</span>
<span>    <span class="fu">prepare_data</span><span class="op">(</span><span class="va">laplace_df</span><span class="op">)</span>,</span>
<span>    decoder <span class="op">=</span> <span class="st">'read_ipc_file'</span>,</span>
<span>    user_functions <span class="op">=</span> <span class="st">"functions.R"</span></span>
<span>  <span class="op">)</span>,</span>
<span></span>
<span>  <span class="fu"><a href="../reference/rxp_r.html">rxp_r</a></span><span class="op">(</span></span>
<span>    <span class="va">gg</span>,</span>
<span>    <span class="fu">make_gg</span><span class="op">(</span><span class="va">laplace_long_df</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/rxp_populate.html">rxp_populate</a></span><span class="op">(</span>build <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Let’s break down what’s happening in this pipeline:</p>
<ul>
<li>First, we define a simple variable called <code>d_size</code>, which
equals <code>150</code>.</li>
<li>Second, define a variable called <code>data</code>, which uses a
function we define ourselves called <code>gridlaplacian</code>
(described below).</li>
<li>Then, we convert that data to a data frame and save it using Arrow.
This step and the previous one are all executed in Julia.</li>
<li>We import that data into R and prepare it for plotting.</li>
<li>Finally, we plot the data using <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="helper-functions">Helper functions<a class="anchor" aria-label="anchor" href="#helper-functions"></a>
</h3>
<p>For this pipeline to work, we need to define some helper functions in
both R and Julia. Let’s look at the Julia functions first:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode julia"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Define the precision matrix (inverse covariance matrix)</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="co"># for the Gaussian noise matrix. It approximately coincides</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co"># with the Laplacian of the 2d grid or the graph representing</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co"># the neighborhood relation of pixels in the picture,</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co"># https://en.wikipedia.org/wiki/Laplacian_matrix</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="kw">function</span> <span class="fu">gridlaplacian</span>(m, n)</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>    S <span class="op">=</span> <span class="fu">sparse</span>(<span class="fl">0.0</span>I, n<span class="op">*</span>m, n<span class="op">*</span>m)</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>    linear <span class="op">=</span> <span class="fu">LinearIndices</span>((<span class="fl">1</span><span class="op">:</span>m, <span class="fl">1</span><span class="op">:</span>n))</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>m</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>n</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>            <span class="cf">for</span> (i2, j2) <span class="kw">in</span> ((i <span class="op">+</span> <span class="fl">1</span>, j), (i, j <span class="op">+</span> <span class="fl">1</span>))</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a>                <span class="cf">if</span> i2 <span class="op">&lt;=</span> m <span class="op">&amp;&amp;</span> j2 <span class="op">&lt;=</span> n</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a>                    S[linear[i, j], linear[i2, j2]] <span class="op">-=</span> <span class="fl">1</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a>                    S[linear[i2, j2], linear[i, j]] <span class="op">-=</span> <span class="fl">1</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>                    S[linear[i, j], linear[i, j]] <span class="op">+=</span> <span class="fl">1</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a>                    S[linear[i2, j2], linear[i2, j2]] <span class="op">+=</span> <span class="fl">1</span></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a>                <span class="cf">end</span></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a>            <span class="cf">end</span></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a>    <span class="cf">return</span> S</span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" tabindex="-1"></a><span class="kw">function</span> <span class="fu">arrow_write</span>(df, path)</span>
<span id="cb3-26"><a href="#cb3-26" tabindex="-1"></a>    Arrow.<span class="fu">write</span>(path, df)</span>
<span id="cb3-27"><a href="#cb3-27" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<p>And here are the R functions:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prepare_data</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">laplace</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">laplace_df</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">mutate</span><span class="op">(</span></span>
<span>      x_id <span class="op">=</span> <span class="fu">row_number</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="op">-</span><span class="va">x_id</span>, names_to <span class="op">=</span> <span class="st">"y_id"</span>, values_to <span class="op">=</span> <span class="st">"z"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">mutate</span><span class="op">(</span></span>
<span>      y_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">""</span>, <span class="va">y_id</span><span class="op">)</span>,</span>
<span>      y_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">y_id</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">make_gg</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">laplace_long_df</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">laplace_long_df</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">x_id</span>, y <span class="op">=</span> <span class="va">y_id</span>, z <span class="op">=</span> <span class="va">z</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">stat_summary_hex</span><span class="op">(</span>fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, bins <span class="op">=</span> <span class="fl">45</span><span class="op">)</span>  <span class="op">+</span></span>
<span>    <span class="fu">scale_fill_viridis_c</span><span class="op">(</span>option <span class="op">=</span> <span class="fl">12</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">theme_void</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">labs</span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"hexagonal 2-d heatmap of laplacian matrix"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">save_gg</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">path</span>, <span class="va">gg</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu">ggsave</span><span class="op">(</span><span class="st">"gg.png"</span>, <span class="va">gg</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>These functions are used in the appropriate derivations using the
<code>user_functions</code> argument.</p>
</div>
<div class="section level3">
<h3 id="data-transfer-between-r-and-julia">Data transfer between R and Julia<a class="anchor" aria-label="anchor" href="#data-transfer-between-r-and-julia"></a>
</h3>
<p>When working with both R and Julia (or Python, for that matter), it’s
important to understand how data is transferred between the two
languages. In our example, we’re using Arrow to save the file in an
interchangeable format. From Julia, we save using
<code>arrow_write()</code> a wrapper around
<code>Arrow.write(path, df)</code>. Then, in R, we can use
<code>arrow::read_ipc_file()</code> to read the file back.</p>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p><a href="https://docs.ropensci.org/rixpress" class="external-link">rixpress</a> makes it easy to combine the strengths of R
and Julia in a single pipeline. By using Nix to manage the environments
and Arrow (or other formats) for data transfer, you can create
reproducible polyglot pipelines that leverage the best of both
languages.</p>
<p>For more examples and advanced usage, check out the <a href="https://github.com/b-rodrigues/rixpress_demos" class="external-link">rixpress_demos
repository</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bruno Rodrigues.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
