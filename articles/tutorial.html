<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Setting up a pipeline from scratch: a tutorial • rixpress</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Setting up a pipeline from scratch: a tutorial">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rixpress</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Introduction</h6></li>
    <li><a class="dropdown-item" href="../articles/intro-concepts.html">Introductory concepts</a></li>
    <li><a class="dropdown-item" href="../articles/scope.html">Scope and Roadmap</a></li>
    <li><a class="dropdown-item" href="../articles/core-functions.html">Core rixpress Functions and Usage</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html">Setting up a pipeline from scratch: a tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/debugging.html">Effective debugging</a></li>
    <li><a class="dropdown-item" href="../articles/gc.html">Managing Cached Build Artifacts</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Polyglot pipelines</h6></li>
    <li><a class="dropdown-item" href="../articles/polyglot.html">Polyglot pipelines and literate programming with Quarto or R Markdown</a></li>
    <li><a class="dropdown-item" href="../articles/polyglot-julia.html">Polyglot pipelines with Julia and R</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced topics</h6></li>
    <li><a class="dropdown-item" href="../articles/ci.html">Running pipelines in CI</a></li>
    <li><a class="dropdown-item" href="../articles/cmdstanr.html">Using {cmdstanr} with {rixpress}</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/b-rodrigues/rixpress/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Setting up a pipeline from scratch: a tutorial</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/b-rodrigues/rixpress/blob/main/vignettes/tutorial.Rmd" class="external-link"><code>vignettes/tutorial.Rmd</code></a></small>
      <div class="d-none name"><code>tutorial.Rmd</code></div>
    </div>

    
    
<p>This vignette demonstrates how to build a <a href="https://github.com/b-rodrigues/rixpress/" class="external-link">rixpress</a>
pipeline that only uses R derivations. For multilingual pipelines, read
the next vignette <code><a href="../articles/polyglot.html">vignette("polyglot")</a></code>.</p>
<p>If you are more of a visual learner, you can also watch <a href="https://www.youtube.com/watch?v=IXKd5ySzzSU" class="external-link">this video</a> which
will walk you through the contents of this vignette.</p>
<div class="section level2">
<h2 id="installing-the-required-software">Installing the required software<a class="anchor" aria-label="anchor" href="#installing-the-required-software"></a>
</h2>
<p>If you’re using <a href="https://github.com/b-rodrigues/rixpress/" class="external-link">rixpress</a>, you’re likely already
familiar with its sister package <a href="https://docs.ropensci.org/rix/" class="external-link">rix</a>, which helps you set
up reproducible development environments for R or Python using
<code>Nix</code>. As such, you likely already have <code>Nix</code>
installed on your system. If not, read the following <a href="https://docs.ropensci.org/rix/articles/b1-setting-up-and-using-rix-on-linux-and-windows.html" class="external-link"><code>{rix}</code>
vignette to learn how to set up <code>Nix</code> on Linux or
Windows</a>, or <a href="https://docs.ropensci.org/rix/articles/b2-setting-up-and-using-rix-on-macos.html" class="external-link">this
one if you’re on macOS</a>.</p>
<p>Once <code>Nix</code> is installed (as well as <code>cachix</code>,
and the <code>rstats-on-nix</code> cache configured), you’re ready to
go.</p>
</div>
<div class="section level2">
<h2 id="bootstrapping-a-project">Bootstrapping a project<a class="anchor" aria-label="anchor" href="#bootstrapping-a-project"></a>
</h2>
<p>In this vignette, I’m going to assume the following:</p>
<ul>
<li>you’re already familiar with <code>Nix</code> thanks to
<a href="https://docs.ropensci.org/rix/" class="external-link">rix</a>;</li>
<li>you only use <code>Nix</code> to manage R environments for data
science projects (in other words, you don’t have a system-installed
R);</li>
<li>you have <code>Nix</code> installed on your system as well as
<code>cachix</code> and configured the <code>rstats-on-nix</code>
cache;</li>
<li>you’ve read through the previous two vignettes.</li>
</ul>
<p>If you’re already familiar with <a href="https://docs.ropensci.org/rix/" class="external-link">rix</a>, you likely know
that you can use the following command in your project’s root directory
to get access to a temporary <code>Nix</code> shell that provides R,
<a href="https://docs.ropensci.org/rix/" class="external-link">rix</a>, and <a href="https://github.com/b-rodrigues/rixpress/" class="external-link">rixpress</a>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">nix-shell</span> <span class="at">--expr</span> <span class="st">"</span><span class="va">$(</span><span class="ex">curl</span> <span class="at">-sl</span> https://raw.githubusercontent.com/ropensci/rix/main/inst/extdata/default.nix<span class="va">)</span><span class="st">"</span></span></code></pre></div>
<p>This will start a <code>Nix</code> session. Type <code>R</code> to
start an R session, and then type:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/b-rodrigues/rixpress/" class="external-link">rixpress</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/rxp_init.html">rxp_init</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This will write two files to the root of your project,
<code>gen-env.R</code> and <code>gen-pipeline.R</code>.
<code>gen-env.R</code> will look like this:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># This script defines the default environment the pipeline runs in.</span></span>
<span><span class="co"># Add the required packages to execute the code necessary for each derivation.</span></span>
<span><span class="co"># If you want to create visual representations of the pipeline, consider adding</span></span>
<span><span class="co"># `{visNetwork}` and `{ggdag}` to the list of R packages.</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/rix/" class="external-link">rix</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define execution environment</span></span>
<span><span class="fu"><a href="https://docs.ropensci.org/rix/reference/rix.html" class="external-link">rix</a></span><span class="op">(</span></span>
<span>  date <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  r_pkgs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  py_conf <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  git_pkgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"package_name"</span> <span class="op">=</span> <span class="st">"rixpress"</span>,</span>
<span>    <span class="st">"repo_url"</span> <span class="op">=</span> <span class="st">"https://github.com/b-rodrigues/rixpress"</span>,</span>
<span>    <span class="st">"commit"</span> <span class="op">=</span> <span class="st">"HEAD"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  ide <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  project_path <span class="op">=</span> <span class="st">"."</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>To execute a <a href="https://github.com/b-rodrigues/rixpress/" class="external-link">rixpress</a> pipeline, the environment needs
<a href="https://github.com/b-rodrigues/rixpress/" class="external-link">rixpress</a> to be available, but you likely require other
packages. Let’s add <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> and <a href="https://r.igraph.org/" class="external-link">igraph</a>
(which is needed to view the graphical representation of the pipeline’s
DAG). Open <code>gen-env.R</code> in any text editor and change it
to:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/rix/" class="external-link">rix</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define execution environment</span></span>
<span><span class="fu"><a href="https://docs.ropensci.org/rix/reference/rix.html" class="external-link">rix</a></span><span class="op">(</span></span>
<span>  date <span class="op">=</span> <span class="st">"2025-04-11"</span>,</span>
<span>  r_pkgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dplyr"</span>, <span class="st">"igraph"</span><span class="op">)</span>,</span>
<span>  git_pkgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    package_name <span class="op">=</span> <span class="st">"rixpress"</span>,</span>
<span>    repo_url <span class="op">=</span> <span class="st">"https://github.com/b-rodrigues/rixpress"</span>,</span>
<span>    commit <span class="op">=</span> <span class="st">"HEAD"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  ide <span class="op">=</span> <span class="st">"rstudio"</span>,</span>
<span>  project_path <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>I’ve added a date, which means that the versions of R and R packages
will be set to the versions available on this date from CRAN, and I’ve
added <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> and <a href="https://r.igraph.org/" class="external-link">igraph</a>. I’ve also added
RStudio as the IDE. I can now go back to my temporary <code>Nix</code>
shell and run <code>Rscript gen-env.R</code> (or
<code>source("gen-env.R")</code> inside an R session). This will create
a <code>default.nix</code> file in my project’s folder: this is a
<code>Nix</code> file that defines my environment. I can now leave my
temporary shell by first quitting R (if applicable), then typing CTRL-D
or <code>exit</code>. Then I can build my development environment using
<code>nix-build</code>. Let’s now enter our development shell by typing
<code>nix-shell</code> and launch RStudio (or whatever editor you want
to use) and open <code>gen-pipeline.R</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/b-rodrigues/rixpress/" class="external-link">rixpress</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.igraph.org/" class="external-link">igraph</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/rxp_r_file.html">rxp_r_file</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    read_function <span class="op">=</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">x</span>, sep <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/rxp_r.html">rxp_r</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    expr <span class="op">=</span> <span class="cn">NULL</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/rxp_populate.html">rxp_populate</a></span><span class="op">(</span>build <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>This template starts with <code><a href="../reference/rxp_r_file.html">rxp_r_file()</a></code> to load data, and
<code><a href="../reference/rxp_r.html">rxp_r()</a></code> to define a step. These two derivations are put
into a list and then passed to <code><a href="../reference/rxp_populate.html">rxp_populate()</a></code>. Let’s start
by importing data and filtering it using <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/b-rodrigues/rixpress/" class="external-link">rixpress</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.igraph.org/" class="external-link">igraph</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/rxp_r_file.html">rxp_r_file</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="va">mtcars</span>,</span>
<span>    path <span class="op">=</span> <span class="st">'data/mtcars.csv'</span>,</span>
<span>    read_function <span class="op">=</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">x</span>, sep <span class="op">=</span> <span class="st">"|"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span></span>
<span>  <span class="fu"><a href="../reference/rxp_r.html">rxp_r</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="va">filtered_mtcars</span>,</span>
<span>    expr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">am</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/rxp_populate.html">rxp_populate</a></span><span class="op">(</span>build <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Select the pipeline and run it (I highly recommend you use keyboard
shortcuts to quickly run the above code when working interactively). If
everything went well, you will see the following in your R console:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>Build process started...</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="sc">+</span> <span class="er">&gt;</span> mtcars building</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="sc">+</span> <span class="er">&gt;</span> filtered_mtcars building</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>✓ filtered_mtcars built</span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>✓ mtcars built</span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>✓ pipeline completed [<span class="dv">2</span> completed, <span class="dv">0</span> errored]</span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a>Build successful<span class="sc">!</span> Run <span class="st">`</span><span class="at">rxp_inspect()</span><span class="st">`</span> <span class="cf">for</span> a summary.</span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a>Read individual derivations using <span class="st">`</span><span class="at">rxp_read()</span><span class="st">`</span> or</span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a>load them into the global environment using <span class="st">`</span><span class="at">rxp_load()</span><span class="st">`</span>.</span></code></pre></div>
<p>Let’s inspect the pipeline outputs using
<code><a href="../reference/rxp_inspect.html">rxp_inspect()</a></code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>       derivation build_success</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="dv">1</span> all<span class="sc">-</span>derivations          <span class="cn">TRUE</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="dv">2</span> filtered_mtcars          <span class="cn">TRUE</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="dv">3</span>          mtcars          <span class="cn">TRUE</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>                                                         path       output</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="dv">1</span> <span class="sc">/</span>nix<span class="sc">/</span>store<span class="sc">/</span>xc67xyqw8ziggwdk7hhiqsgh7hxfv4k1<span class="sc">-</span>all<span class="sc">-</span>derivations filtered....</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="dv">2</span> <span class="sc">/</span>nix<span class="sc">/</span>store<span class="sc">/</span>njv7zpgiq9p843dixkcg1dpryr5rn6h4<span class="sc">-</span>filtered_mtcars filtered....</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="dv">3</span>          <span class="sc">/</span>nix<span class="sc">/</span>store<span class="sc">/</span>gqf4l5jpbjdv1by0vw6vphhlrfa0600a<span class="sc">-</span>mtcars       mtcars</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>  error_message</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="dv">1</span>          <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="dv">2</span>          <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a><span class="dv">3</span>          <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span></span></code></pre></div>
<p>Three things were built: <code>mtcars</code>, which is simply the
source data set; <code>filtered_mtcars</code>, which is the filtered
data; and an object you didn’t define called
<code>all-derivations</code>. This last object is mostly for internal
<a href="https://github.com/b-rodrigues/rixpress/" class="external-link">rixpress</a> use, and you can safely ignore it.</p>
<p>Let’s now use <code><a href="../reference/rxp_read.html">rxp_read()</a></code> to take a look at
<code>filtered_mtcars</code>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/rxp_read.html">rxp_read</a></span><span class="op">(</span><span class="st">"filtered_mtcars"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>                mpg cyl  disp  hp drat    wt  qsec vs am gear carb</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>Mazda RX4      <span class="fl">21.0</span>   <span class="dv">6</span> <span class="fl">160.0</span> <span class="dv">110</span> <span class="fl">3.90</span> <span class="fl">2.620</span> <span class="fl">16.46</span>  <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">4</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>Mazda RX4 Wag  <span class="fl">21.0</span>   <span class="dv">6</span> <span class="fl">160.0</span> <span class="dv">110</span> <span class="fl">3.90</span> <span class="fl">2.875</span> <span class="fl">17.02</span>  <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">4</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>Datsun <span class="dv">710</span>     <span class="fl">22.8</span>   <span class="dv">4</span> <span class="fl">108.0</span>  <span class="dv">93</span> <span class="fl">3.85</span> <span class="fl">2.320</span> <span class="fl">18.61</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">1</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>Fiat <span class="dv">128</span>       <span class="fl">32.4</span>   <span class="dv">4</span>  <span class="fl">78.7</span>  <span class="dv">66</span> <span class="fl">4.08</span> <span class="fl">2.200</span> <span class="fl">19.47</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">1</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>Honda Civic    <span class="fl">30.4</span>   <span class="dv">4</span>  <span class="fl">75.7</span>  <span class="dv">52</span> <span class="fl">4.93</span> <span class="fl">1.615</span> <span class="fl">18.52</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">2</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>Toyota Corolla <span class="fl">33.9</span>   <span class="dv">4</span>  <span class="fl">71.1</span>  <span class="dv">65</span> <span class="fl">4.22</span> <span class="fl">1.835</span> <span class="fl">19.90</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">1</span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>Fiat X1<span class="dv">-9</span>      <span class="fl">27.3</span>   <span class="dv">4</span>  <span class="fl">79.0</span>  <span class="dv">66</span> <span class="fl">4.08</span> <span class="fl">1.935</span> <span class="fl">18.90</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">1</span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a>Porsche <span class="dv">914-2</span>  <span class="fl">26.0</span>   <span class="dv">4</span> <span class="fl">120.3</span>  <span class="dv">91</span> <span class="fl">4.43</span> <span class="fl">2.140</span> <span class="fl">16.70</span>  <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">2</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a>Lotus Europa   <span class="fl">30.4</span>   <span class="dv">4</span>  <span class="fl">95.1</span> <span class="dv">113</span> <span class="fl">3.77</span> <span class="fl">1.513</span> <span class="fl">16.90</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">2</span></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a>Ford Pantera L <span class="fl">15.8</span>   <span class="dv">8</span> <span class="fl">351.0</span> <span class="dv">264</span> <span class="fl">4.22</span> <span class="fl">3.170</span> <span class="fl">14.50</span>  <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">4</span></span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a>Ferrari Dino   <span class="fl">19.7</span>   <span class="dv">6</span> <span class="fl">145.0</span> <span class="dv">175</span> <span class="fl">3.62</span> <span class="fl">2.770</span> <span class="fl">15.50</span>  <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">6</span></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a>Maserati Bora  <span class="fl">15.0</span>   <span class="dv">8</span> <span class="fl">301.0</span> <span class="dv">335</span> <span class="fl">3.54</span> <span class="fl">3.570</span> <span class="fl">14.60</span>  <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">8</span></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a>Volvo <span class="dv">142</span>E     <span class="fl">21.4</span>   <span class="dv">4</span> <span class="fl">121.0</span> <span class="dv">109</span> <span class="fl">4.11</span> <span class="fl">2.780</span> <span class="fl">18.60</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">2</span></span></code></pre></div>
<p>You can save this object like so:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">filtered_mtcars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rxp_read.html">rxp_read</a></span><span class="op">(</span><span class="st">"filtered_mtcars"</span><span class="op">)</span></span></code></pre></div>
<p>or you can simply use <code>rxp_load("filtered_mtcars")</code> which
will achieve the same result.</p>
<p>You can now manipulate this object interactively, as usual. You might
still not quite know what the next step should be (maybe there are
missing values you need to handle somehow, or another such cleaning
step), but once you know the next steps, you can write the next
derivation:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/b-rodrigues/rixpress/" class="external-link">rixpress</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.igraph.org/" class="external-link">igraph</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/rxp_r_file.html">rxp_r_file</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="va">mtcars</span>,</span>
<span>    path <span class="op">=</span> <span class="st">'data/mtcars.csv'</span>,</span>
<span>    read_function <span class="op">=</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">x</span>, sep <span class="op">=</span> <span class="st">"|"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span></span>
<span>  <span class="fu"><a href="../reference/rxp_r.html">rxp_r</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="va">filtered_mtcars</span>,</span>
<span>    expr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">am</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span></span>
<span>  <span class="fu"><a href="../reference/rxp_r.html">rxp_r</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="va">mtcars_mpg</span>,</span>
<span>    expr <span class="op">=</span> <span class="fu">select</span><span class="op">(</span><span class="va">filtered_mtcars</span>, <span class="va">mpg</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/rxp_populate.html">rxp_populate</a></span><span class="op">(</span>build <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Rebuild the pipeline. The first two steps are skipped because they’re
already available in the <code>Nix</code> store. You can now start the
<em>inspect -&gt; try stuff -&gt; define derivation -&gt; build
pipeline</em> loop again for the next derivation.</p>
<p>You now know the basics of using <a href="https://github.com/b-rodrigues/rixpress/" class="external-link">rixpress</a> to build a
simple pipeline.</p>
<p>The next vignette <code><a href="../articles/polyglot.html">vignette("polyglot")</a></code> explains how to
build a pipeline with both R and Python derivations, as well as
compiling a Quarto document.</p>
<p>If you don’t need to work with multiple languages, you can continue
with the vignette <code><a href="../articles/debugging.html">vignette("debugging")</a></code>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bruno Rodrigues.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
